{"version":3,"sources":["Components/Button/Button.module.scss","Components/ImageGalleryItem/ImageGalleryItem.module.scss","Components/Modal/Modal.module.scss","Components/ImageGallery/ImageGallery.module.scss","App.module.scss","services/PixabayAPI.js","Components/Button/Button.js","Components/Loader/Loader.js","Components/Searchbar/Searchbar.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/ImageGallery/ImageGallery.js","Components/Modal/Modal.js","App.js","index.js","Components/Searchbar/Searchbar.module.scss"],"names":["module","exports","api","fetchImages","searchQuery","page","API_URL","fetch","then","response","ok","json","Promise","reject","Error","Button","onFetch","useEffect","window","scrollTo","top","document","documentElement","scrollHeight","behavior","className","styles","Center","type","onClick","Loading","Loader","color","height","width","timeout","Component","Searchbar","onSubmit","useState","setSearchQuery","event","preventDefault","trim","toast","error","SearchForm","SearchForm_button","SearchForm_button_label","SearchForm_input","value","onChange","currentTarget","toLowerCase","autoComplete","autoFocus","placeholder","ImageGalleryItem","PixabayImage","map","hit","src","webformatURL","alt","user","ImageGalleryItem_image","id","url","largeImageURL","ImageGallery","modalRoot","querySelector","Modal","onClose","children","addEventListener","handleKeyDown","removeEventListener","e","code","createPortal","Overlay","target","App","setPixabayImage","setPage","setError","loading","setLoading","showModal","setShowModal","setAlt","setUrl","onLoading","useRef","fetchUpdate","current","PixabayAPI","PixabayImageHins","hits","prevPage","catch","finally","toggleModal","isOpenModal","attributes","nodeValue","LoadMoreButton","length","style","textAlign","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.4e287a75.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Center\":\"Button_Center__2xy3k\",\"Button\":\"Button_Button__i9ujh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__34RIy\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__1caqq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__38MOU\",\"Modal\":\"Modal_Modal__1egvA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2-B6Z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__3DpX9\"};","// const axios = require('axios');\r\n\r\nconst API_KEY = '21951124-cbc15cb68780ddc893d0875a8';\r\nconst BASE_URL = 'https://pixabay.com/api';\r\n\r\nfunction fetchImages(searchQuery, page) {\r\n  const API_URL = `${BASE_URL}/?q=${searchQuery}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`;\r\n\r\n  return fetch(API_URL).then(response => {\r\n    if (response.ok) {\r\n      return response.json();\r\n    }\r\n    return Promise.reject(new Error(`Поиск ${searchQuery} не дал результата`));\r\n  });\r\n}\r\n\r\nconst api = {\r\n  fetchImages,\r\n};\r\n\r\nexport default api;\r\n","import { useEffect } from 'react';\r\nimport styles from './Button.module.scss';\r\n\r\nfunction Button({ onFetch }) {\r\n  useEffect(() => {\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: 'smooth',\r\n    });\r\n  }, [onFetch]);\r\n\r\n  return (\r\n    <div className={styles.Center}>\r\n      <button type=\"button\" className={styles.Button} onClick={onFetch}>\r\n        Load more\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Button;\r\n","import { Component } from 'react';\nimport Loader from 'react-loader-spinner';\nexport default class Loading extends Component {\n  //other logic\n  render() {\n    return (\n      <>\n        <div>Loading...</div>\n        <Loader\n          Loader\n          type=\"Rings\"\n          color=\"#00BFFF\"\n          height={80}\n          width={80}\n          timeout={3000} //3 secs\n        />\n      </>\n    );\n  }\n}\n","import { useState } from 'react';\r\nimport styles from './Searchbar.module.scss';\r\nimport { toast } from 'react-toastify';\r\n\r\nfunction Searchbar({ onSubmit }) {\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n\r\n  const handleSearchQueryChange = event => {\r\n    setSearchQuery(event.currentTarget.value.toLowerCase());\r\n  };\r\n\r\n  const handleSubmit = event => {\r\n    event.preventDefault();\r\n\r\n    if (searchQuery.trim() === '') {\r\n      toast.error('Введите что-то для поиска.');\r\n      return;\r\n    }\r\n\r\n    onSubmit(searchQuery);\r\n    setSearchQuery('');\r\n  };\r\n\r\n  return (\r\n    <header className={styles.Searchbar}>\r\n      <form onSubmit={handleSubmit} className={styles.SearchForm}>\r\n        <button type=\"submit\" className={styles.SearchForm_button}>\r\n          <span className={styles.SearchForm_button_label}>Search</span>\r\n        </button>\r\n\r\n        <input\r\n          className={styles.SearchForm_input}\r\n          type=\"text\"\r\n          value={searchQuery}\r\n          onChange={handleSearchQueryChange}\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Searchbar;\r\n","import styles from './ImageGalleryItem.module.scss';\nimport PropTypes from 'prop-types';\n\nconst ImageGalleryItem = ({ PixabayImage }) => {\n  return (\n    <>\n      {PixabayImage.map(hit => (\n        <li className={styles.ImageGalleryItem} key={hit.id}>\n          <img\n            src={hit.webformatURL}\n            alt={hit.user}\n            className={styles.ImageGalleryItem_image}\n            id={hit.id}\n            url={hit.largeImageURL}\n          />\n        </li>\n      ))}\n    </>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  PixabayImage: PropTypes.array.isRequired,\n};\n\nexport default ImageGalleryItem;\n","// import { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport ImageGalleryItem from '../ImageGalleryItem';\r\nimport styles from './ImageGallery.module.scss';\r\n\r\nfunction ImageGallery({ PixabayImage, onClick }) {\r\n  // const [searchQuery, setSearchQuery] = useState('');\r\n\r\n  return (\r\n    <>\r\n      <ul className={styles.ImageGallery} onClick={onClick}>\r\n        <ImageGalleryItem PixabayImage={PixabayImage} />\r\n      </ul>\r\n    </>\r\n  );\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  PixabayImage: PropTypes.array.isRequired,\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import { useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { createPortal } from 'react-dom';\r\nimport styles from './Modal.module.scss';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nfunction Modal({ onClose, children }) {\r\n  useEffect(() => {\r\n    window.addEventListener('keydown', handleKeyDown);\r\n    return () => window.removeEventListener('keydown', handleKeyDown);\r\n  });\r\n\r\n  const handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  const handleBackdropClick = event => {\r\n    if (event.currentTarget === event.target) {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  return createPortal(\r\n    <div className={styles.Overlay} onClick={handleBackdropClick}>\r\n      <div className={styles.Modal}>{children}</div>\r\n    </div>,\r\n    modalRoot,\r\n  );\r\n}\r\n\r\nModal.propTypes = {\r\n  children: PropTypes.node.isRequired,\r\n  onClose: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Modal;\r\n","import { useState, useEffect, useRef } from 'react';\r\nimport './App.module.scss';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport PixabayAPI from './services/PixabayAPI';\r\nimport Button from './Components/Button';\r\nimport Loading from './Components/Loader';\r\nimport Searchbar from './Components/Searchbar';\r\nimport ImageGallery from './Components/ImageGallery';\r\nimport Modal from './Components/Modal';\r\n\r\nfunction App() {\r\n  const [PixabayImage, setPixabayImage] = useState([]);\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [page, setPage] = useState(1);\r\n  const [error, setError] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [alt, setAlt] = useState('');\r\n  const [url, setUrl] = useState('');\r\n\r\n  const onLoading = useRef(loading);\r\n\r\n  const submitForm = searchQuery => {\r\n    setSearchQuery(searchQuery);\r\n    setPixabayImage([]);\r\n    setPage(1);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!searchQuery) {\r\n      return;\r\n    }\r\n    fetchUpdate();\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [searchQuery]);\r\n\r\n  const fetchUpdate = () => {\r\n    setLoading(!onLoading.current);\r\n\r\n    PixabayAPI.fetchImages(searchQuery, page)\r\n      .then(PixabayImageHins => {\r\n        setPixabayImage([...PixabayImage, ...PixabayImageHins.hits]);\r\n        setPage(prevPage => prevPage + 1);\r\n      })\r\n      .catch(() => setError(`Поиск ${searchQuery} не дал результата`))\r\n      .finally(() => {\r\n        setLoading(onLoading.current);\r\n      });\r\n  };\r\n\r\n  const toggleModal = () => {\r\n    setShowModal(!showModal);\r\n  };\r\n\r\n  const isOpenModal = event => {\r\n    setAlt(event.target.alt);\r\n    setUrl(event.target.attributes.url.nodeValue);\r\n    setLoading(onLoading.current);\r\n\r\n    toggleModal(false);\r\n  };\r\n\r\n  const LoadMoreButton = !(PixabayImage.length < 12) && !loading;\r\n\r\n  return (\r\n    <div>\r\n      <Searchbar onSubmit={submitForm} />\r\n      {error && <p style={{ textAlign: 'center', color: 'red' }}>{error}</p>}\r\n      {loading && <Loading />}\r\n      <ImageGallery PixabayImage={PixabayImage} onClick={isOpenModal} />\r\n      <ToastContainer autoClose={3000} />\r\n      {LoadMoreButton && <Button onFetch={fetchUpdate} />}\r\n      {showModal && (\r\n        <Modal onClose={toggleModal} onClick={isOpenModal}>\r\n          <img src={url} alt={alt} />\r\n        </Modal>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__xNVqP\",\"SearchForm\":\"Searchbar_SearchForm__24plC\",\"SearchForm_button\":\"Searchbar_SearchForm_button__2FYAz\",\"SearchForm_button_label\":\"Searchbar_SearchForm_button_label__U1Uwf\",\"SearchForm_input\":\"Searchbar_SearchForm_input__2S0XQ\"};"],"sourceRoot":""}